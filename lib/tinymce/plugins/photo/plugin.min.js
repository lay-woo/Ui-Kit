tinymce.PluginManager.add('photo', function(editor, url) {
  // Add a button that opens a window
  editor.addButton('photo', {
    text: 'Image',
    icon: "image",
    onclick: function() {
      // Open window
      editor.windowManager.open({
        title: 'Image',
        width:400,
        height:70,
        body:[],
        buttons: [
        {
            text: 'Upload & Insert',
            onclick: 'submit'
        },
        {
            text: 'Close',
            onclick: 'close'
        }],
        onsubmit: function(e){
          // Insert content when the window form is submitted
          console.log(e);
          //editor.insertContent('Title: ' + e.data.title);
        }
      });
    }
  });

  // Adds a menu item to the tools menu
//  editor.addMenuItem('photo', {
//    text: 'Image',
//    context: 'tools',
//    onclick: function() {
////       Open window with a specific url
//      editor.windowManager.open({
//        title: 'TinyMCE site',
//        url: 'https://www.tinymce.com',
//        width: 800,
//        height: 600,
//        buttons: [{
//          text: 'Close',
//          onclick: 'close'
//        }]
//      });
//    }
//  });
  return {
    getMetadata: function () {
      return  {
        title: "Image",
        url: "http://exampleplugindocsurl.com"
      };
    }
  };
});